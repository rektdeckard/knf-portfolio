(this["webpackJsonpknf-portfolio"]=this["webpackJsonpknf-portfolio"]||[]).push([[4],{71:function(t,e,n){var r;"undefined"!=typeof self&&self,t.exports=(r=n(0),function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e){t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.XBlock=e.XMasonry=void 0;var i=r(n(3)),o=r(n(5));e.XMasonry=i.default,e.XBlock=o.default},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:45,n=0;return function(){0!==n&&clearTimeout(n),n=setTimeout((function(){n=0,t()}),e)}},e.isServer="false"!==((t||{}).env||{}).REACT_XMASONRY_SSR_ENABLED&&!("undefined"!=typeof document&&"undefined"!=typeof window)}).call(e,n(4))},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),l=n(2),d=0,h=!1,f=function t(){if(!l.isServer){if(!document.body)return void document.addEventListener("DOMContentLoaded",t);var e=document.createElement("div");e.style.overflow="scroll",e.style.height=e.style.width="200px",e.style.visibility="hidden",e.style.padding=e.style.margin=e.style.border=0,document.body.appendChild(e),d=e.offsetWidth-e.clientWidth||0,h=!0,document.body.removeChild(e)}},p=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={blocks:{},containerHeight:0,columns:1,containerWidth:0},n.pastChildren=0,n.columns=n.state.columns,n.blocks=n.state.blocks,n.container=null,n.debouncedResize=(0,l.debounce)(n.updateContainerWidth.bind(n)),n.fixedHeight=0,n.containerWidth=n.state.containerWidth,n.update=n.updateInternal.bind(n),n.smartUpdate=0,h||f(),n.props.responsive&&!l.isServer&&window.addEventListener("resize",n.debouncedResize),!l.isServer&&n.props.updateOnFontLoad&&document.fonts&&document.fonts.addEventListener&&document.fonts.addEventListener("loadingdone",n.update),l.isServer&&(n.state.containerWidth=n.containerWidth=n.props.width||999*n.props.targetBlockWidth,n.columns=n.getColumnsNumber(n.state.containerWidth)),n.pastChildren=t.children,n}return a(e,t),s(e,[{key:"getBestFitColumn",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Math.min(t.length-e+1,this.props.maxColumns-e+1),r=0,i=1/0,o=0;o<n;++o){var a=Math.max.apply(null,t.slice(o,o+e));a<i&&(i=a,r=o)}return{col:r,height:i}}}]),s(e,[{key:"updateInternal",value:function(){return!this.updateContainerWidth()&&this.measureChildren()}},{key:"componentDidMount",value:function(){this.updateInternal()}},{key:"componentWillUnmount",value:function(){l.isServer||window.removeEventListener("resize",this.debouncedResize),!l.isServer&&this.props.updateOnFontLoad&&document.fonts&&document.fonts.addEventListener&&document.fonts.removeEventListener("loadingdone",this.update),this.smartUpdate&&clearTimeout(this.smartUpdate)}},{key:"componentDidUpdate",value:function(){if(u.default.Children.count(this.props.children)<u.default.Children.count(this.pastChildren)){var t=new Set,e={};u.default.Children.forEach(this.pastChildren,(function(e,n){return e&&t.add(null===e.key?n:e.key)})),u.default.Children.forEach(this.props.children,(function(n,r){if(n){var i=null===n.key?r:n.key;t.has(i)||(e[i]={})}})),this.recalculatePositions(null,e)}this.pastChildren=this.props.children,this.updateInternal()&&this.props.smartUpdate&&this.runSmartUpdate()}},{key:"runSmartUpdate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;if(100===e&&this.smartUpdate)clearInterval(this.smartUpdate),this.smartUpdate=0;else if(this.smartUpdate)return;this.smartUpdate=setTimeout((function(){var n=!l.isServer&&void 0!==document.hidden&&document.hidden;if(n)var r=document.addEventListener("visibilitychange",(function(){document.hidden||(document.removeEventListener("visibilitychange",r),t.runSmartUpdate(2*e))}),!1);t.smartUpdate=0,t.updateInternal()?t.runSmartUpdate():n||t.runSmartUpdate(2*e)}),Math.min(e,this.props.smartUpdateCeil))}},{key:"getColumnsNumber",value:function(t){return Math.max(1,Math.round(t/this.props.targetBlockWidth))}},{key:"updateContainerWidth",value:function(){var t=l.isServer&&!this.container?this.props.width||999*this.props.targetBlockWidth:this.container?this.container.clientWidth:0;return t!==this.containerWidth&&t!==this.containerWidth+d&&(this.setState({columns:this.columns=this.getColumnsNumber(t),containerWidth:this.containerWidth=t,blocks:this.blocks={}}),!0)}},{key:"measureChildren",value:function(){if(!this.container)return!1;for(var t={},e=!1,n=0;n<this.container.children.length;n++){var r=this.container.children[n],i=r.hasAttribute("data-xkey"),o=r.getAttribute("data-key"),a=+r.getAttribute("data-width");(i||(this.blocks[o]||{}).height!==r.clientHeight||(this.blocks[o]||{}).width!==a)&&(t[o]={height:r.clientHeight},e||(e=!0))}return e&&this.recalculatePositions(t),e}},{key:"recalculatePositions",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=void 0,r=[],i=0;i<this.columns;++i)r.push(0);for(var o in this.blocks)this.blocks.hasOwnProperty(o)&&void 0===this.blocks[o]&&(null===e&&(e={}),e[o]={});if(e){for(var a in n={},this.blocks)this.blocks.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(n[a]=this.blocks[a]);for(var s in t)t.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(n[s]=t[s])}else n=c({},this.blocks,t);for(var u=0;u<this.container.children.length;u++){var l=this.container.children[u],d=l.getAttribute("data-key");if(n.hasOwnProperty(d)&&(!e||!e.hasOwnProperty(d))){var h=+l.getAttribute("data-width")||1,f=this.getBestFitColumn(r,h),p=f.col,m=f.height,v=m+n[d].height;n[d].left=this.containerWidth*p/this.columns,n[d].top=m,n[d].width=Math.min(h,this.columns);for(var b=0;b<h;++b)r[p+b]=v}}if(this.props.center&&0===r[r.length-1]){for(var y=1;0===r[r.length-1-y];++y);var O=this.containerWidth*y/this.columns/2;for(var g in n)n.hasOwnProperty(g)&&(n[g].left+=O)}this.setState({blocks:this.blocks=n,containerHeight:Math.max.apply(null,r)})}},{key:"render",value:function(){var t=this,n={},i=0,o=0===this.containerWidth?[]:this.props.children||[],a=u.default.Children.map(o,(function(e,r){if(!e)return null;var o=null===e.key?r:e.key,a=t.blocks[o];return a||++i,n[o]=null,a?u.default.cloneElement(e,{"data-key":o,key:o,style:{left:Math.floor(a.left),top:a.top},measured:!0,height:a.height,parent:t}):u.default.cloneElement(e,{"data-key":o,"data-xkey":o,key:o,style:{visibility:l.isServer?"visible":"hidden"},height:0,parent:t})}));for(var s in this.blocks)this.blocks.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(this.blocks[s]=void 0);var d=a.length-i>0||0===a.length?this.fixedHeight=this.state.containerHeight:this.fixedHeight,h=this.props,f=(h.center,h.maxColumns,h.responsive,h.smartUpdate,h.smartUpdateCeil,h.targetBlockWidth,h.updateOnImagesLoad,h.updateOnFontLoad,h.className),p=h.style,m=r(h,["center","maxColumns","responsive","smartUpdate","smartUpdateCeil","targetBlockWidth","updateOnImagesLoad","updateOnFontLoad","className","style"]);return u.default.createElement("div",c({className:"xmasonry"+(l.isServer?" xmasonry-static":"")+(f?" "+f:""),style:c({},e.containerStyle,{height:l.isServer?void 0:d},p),ref:function(e){return t.container=e}},m),a)}}]),e}(u.default.Component);p.defaultProps={center:!0,maxColumns:l.isServer?3:1/0,responsive:!0,smartUpdate:!0,smartUpdateCeil:1/0,targetBlockWidth:300,updateOnFontLoad:!0,updateOnImagesLoad:!0},p.containerStyle={position:"relative"},e.default=p},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(d===clearTimeout)return clearTimeout(t);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){m&&f&&(m=!1,f.length?p=f.concat(p):v=-1,p.length&&c())}function c(){if(!m){var t=i(a);m=!0;for(var e=p.length;e;){for(f=p,p=[];++v<e;)f&&f[v].run();v=-1,e=p.length}f=null,m=!1,o(t)}}function s(t,e){this.fun=t,this.array=e}function u(){}var l,d,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(t){d=r}}();var f,p=[],m=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new s(t,e)),1!==p.length||m||i(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),l=n(2),d=function(t){function e(){var t,n,r;i(this,e);for(var a=arguments.length,c=Array(a),s=0;s<a;s++)c[s]=arguments[s];return n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(c))),r.divElement=null,r.placed=!1,o(r,n)}return a(e,t),s(e,[{key:"componentDidUpdate",value:function(){var t=this;if(!this.placed&&this.props.parent&&!this.props["data-xkey"]){this.placed=!0;var e=this.props.parent;requestAnimationFrame((function(){if(t.divElement){var n=Array.prototype.slice.call(t.divElement.querySelectorAll("img"));n.length>0&&e.props.updateOnImagesLoad&&n.forEach((function(t){return!t.complete&&t.addEventListener("load",e.update)})),t.props.height!==t.divElement.clientHeight&&e.update()}}))}}},{key:"render",value:function(){var t=this,n=this.props,i=n.width,o=(n.height,n.measured),a=(n.parent,n.style),s=r(n,["width","height","measured","parent","style"]),d=this.props.parent.columns,h=Math.min(i||1,d,this.props.parent.props.maxColumns);return a.width=Math.floor(h*this.props.parent.containerWidth/d),u.default.createElement("div",c({"data-width":h},s,{style:c({},a,e.defaultStyle),className:o?"xblock":l.isServer?"xblock xblock-static":"",ref:function(e){return t.divElement=e}}),this.props.children)}}]),e}(u.default.Component);d.defaultProps={width:1,measured:!1},d.defaultStyle={position:l.isServer?void 0:"absolute",boxSizing:"border-box"},e.default=d}]))},92:function(t,e,n){"use strict";n.r(e);var r=n(3),i=n(6),o=n(1),a=n(0),c=n(7),s=n(36),u=n(2),l=n(8),d=function(t,e){var n=Object(a.useState)(null),r=n[0],i=n[1];return Object(a.useEffect)((function(){if(t.current&&"function"===typeof IntersectionObserver){var n=new IntersectionObserver((function(t){i(t[0])}),e);return n.observe(t.current),function(){i(null),n.disconnect()}}return function(){}}),[t.current,e.threshold,e.root,e.rootMargin]),r};function h(t,e,n){void 0===e&&(e=0),void 0===n&&(n=[]);var r=function(t,e){void 0===e&&(e=0);var n=Object(a.useRef)(!1),r=Object(a.useRef)(),i=Object(a.useRef)(t),o=Object(a.useCallback)((function(){return n.current}),[]),c=Object(a.useCallback)((function(){n.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout((function(){n.current=!0,i.current()}),e)}),[e]),s=Object(a.useCallback)((function(){n.current=null,r.current&&clearTimeout(r.current)}),[]);return Object(a.useEffect)((function(){i.current=t}),[t]),Object(a.useEffect)((function(){return c(),s}),[e]),[o,s,c]}(t,e),i=r[0],o=r[1],c=r[2];return Object(a.useEffect)(c,n),[i,o]}var f=n(18),p=n(71),m=n(5),v=n(37),b=n(22);function y(){var t=Object(i.a)(["\n  position: relative;\n  margin: 0;\n  top: 0.4em;\n  left: 1.5em;\n  font-size: 5em;\n  text-decoration: underline;\n  z-index: 1;\n"]);return y=function(){return t},t}function O(){var t=Object(i.a)(["\n  position: relative;\n  padding-top: 4em;\n  max-width: 956px;\n  margin: 0 auto;\n  transition: opacity 500ms ease;\n"]);return O=function(){return t},t}var g=c.c.section(O()),j=c.c.h1(y()),k={root:null,rootMargin:"0px",threshold:.5},w=function(t){var e=t.name,n=t.color,i=t.accent,c=t.works,s=Object(l.f)(),y=Object(l.g)().pathname,O=Object(f.c)(v.a),w=Object(u.a)(O,2),x=w[0],E=w[1],C=Object(a.useRef)(),S=d(C,k);return h((function(){if(S&&S.isIntersecting){var t=S.time,r=S.intersectionRatio;e!==x.name&&(E((function(o){return t>o.time?{name:e,color:n,accent:i,time:t,intersectionRatio:r}:o})),s.push("/featured/".concat(Object(b.d)(e))))}}),200,[S,x,E]),Object(a.useEffect)((function(){var t=setTimeout((function(){var t;y==="/featured/".concat(Object(b.d)(e))&&(null===(t=document.getElementById(Object(b.d)(e)))||void 0===t||t.scrollIntoView({block:"start",behavior:"smooth"}))}),100);return function(){return clearTimeout(t)}}),[]),Object(o.jsxs)(g,{ref:C,id:Object(b.d)(e),children:[Object(o.jsx)(j,{children:e}),Object(o.jsx)(p.XMasonry,{targetBlockWidth:600,maxColumns:2,children:c.map((function(t,e){if(Object(b.b)(t)){var n=t.Module;return Object(o.jsx)(p.XBlock,{width:n===m.b?2:1,children:Object(o.jsx)(n,Object(r.a)({},t))},t.title)}if(Object(b.c)(t)){var i=t.Module;return Object(o.jsx)(p.XBlock,{width:1,children:Object(o.jsx)(i,Object(r.a)({},t))},t.text)}var a,c=t.Module;return Object(o.jsx)(p.XBlock,{width:null!==(a=t.width)&&void 0!==a?a:1,children:Object(o.jsx)(c,Object(r.a)({},t))},"spacer-".concat(t.height,"-").concat(e))}))})]})};function x(){var t=Object(i.a)(["\n  max-width: 956px;\n  margin: 0 auto;\n"]);return x=function(){return t},t}var E=c.c.div(x());e.default=function(){return Object(o.jsx)(E,{children:s.featured.map((function(t){return Object(o.jsx)(w,Object(r.a)({},t),t.name)}))})}}}]);
//# sourceMappingURL=4.8d204c31.chunk.js.map