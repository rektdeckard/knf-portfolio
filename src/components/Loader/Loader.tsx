import React, { useEffect } from "react";
import { motion, useMotionValue, animate } from "framer-motion";

interface LoaderProps {
  delay?: number;
  type?: "ladder" | "web" | "curlies";
}

const Loader: React.FC<LoaderProps> = ({ delay = 0, type = "web" }) => {
  const path = useMotionValue<number>(0);

  useEffect(() => {
    animate(path, 0.1, {
      type: "tween",
      duration: 1,
      delay,
      repeat: Infinity,
      ease: "easeInOut",
    });
  }, [delay, path]);

  return (
    <motion.svg
      width="100%"
      height="100%"
      viewBox="0 0 1000 1000"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      opacity={0.5}
    >
      {type === "web" ? (
        <motion.path
          d="M391.265 713.525L956.217 533.957L608.377 297.986M391.265 713.525L130.96 664.029L341.738 577.122M391.265 713.525L571.52 900L726.435 769.353M608.377 297.986L881.927 769.353H726.435M608.377 297.986L341.738 577.122M608.377 297.986L956.217 254.82L726.435 769.353M608.377 297.986L689.578 100L341.738 174.245M608.377 297.986L341.738 174.245M726.435 769.353L341.738 577.122M726.435 769.353L341.738 174.245M341.738 577.122L93.5269 496.547L254.777 378.561M341.738 577.122L254.777 378.561M341.738 174.245L254.777 378.561M341.738 174.245L44 329.065L254.777 378.561"
          stroke="currentColor"
          strokeWidth={8}
          strokeLinecap="round"
          strokeLinejoin="round"
          strokeMiterlimit={8}
          style={{ pathLength: path }}
        />
      ) : type === "ladder" ? (
        <motion.path
          d="M250.421 864.989C319.725 691.011 363.192 577.604 389.462 506.127M425.184 397.593C426.617 399.027 418.666 426.669 389.462 506.127M520.005 369.292C367.124 777.753 324.43 893.29 322.193 900M237 829.686L366.832 840.481M373.543 794.384L250.421 785.047M278.721 726.696C372.084 748.403 398.148 745.66 399.509 741.576M425.184 703.647C329.721 658.133 309.55 653.173 311.398 656.382M337.073 610.284L425.184 635.959M449.4 581.984L350.494 574.982M389.462 506.127L487.328 514.004M496.956 465.281C418.999 446.842 399.509 449.429 399.509 453.027M544.221 141.721C661.158 449.818 699.533 537.345 704.104 542.597M763.623 534.719L595.57 152.516M617.16 192.779L558.225 198.031M575.147 240.627H642.835M600.822 298.979L667.926 282.64M617.16 349.745L686.015 334.573M632.915 411.014L699.436 380.088M648.087 447.775L729.195 441.94M318.984 104.085C320.151 132.093 320.268 199.198 311.398 243.545C300.311 298.979 297.394 329.905 291.559 397.593M350.494 100C346.993 141.235 340.224 227.673 341.158 243.545C342.325 263.384 339.991 373.669 333.572 417.433M341.158 371.043L291.559 360.832M294.476 327.279L342.325 338.366M344.367 304.23C338.143 301.41 320.384 295.945 299.144 296.645M343.492 272.429C338.045 271.359 322.31 269.861 302.937 272.429M304.688 240.044C307.489 239.81 334.253 241.503 347.284 242.378M314.608 216.411L344.367 212.91M313.149 186.652C314.316 186.652 336.392 182.956 347.284 181.109M313.149 152.808C320.054 153.683 337.19 154.034 350.494 148.432M314.608 124.216C320.929 122.757 337.715 119.781 354.287 119.548"
          stroke="currentColor"
          strokeWidth={8}
          strokeLinecap="round"
          strokeLinejoin="round"
          style={{ pathLength: path }}
        />
      ) : (
        <motion.path
          d="M82 496.212L388.059 475.923C484.874 458.755 622.952 148.095 383.375 110.612C203.799 82.5165 103.861 308.876 203.799 347.905C303.737 386.933 413.044 296.387 347.46 230.819M917.417 469.673L614.481 480.601C534.322 406.707 425.132 210.305 672.257 110.612C850.271 38.7992 892.397 355.781 742.526 333.854C614.481 315.12 697.241 215.207 708.172 230.819M906.486 507.14L637.903 524.312C570.237 570.106 459.889 736.627 584.812 849.029C731.489 981.005 903.363 822.489 881.502 756.922C820.29 660.756 764.908 667.937 742.526 671.059C701.926 690.313 643.837 737.876 736.28 774.094M96.0537 557.096C102.3 557.096 290.204 539.403 383.375 530.557C418.769 531.077 494.555 542.109 514.543 582.074C539.527 632.031 542.65 755.36 506.735 822.489C470.82 889.618 370.882 920.841 306.86 884.935C242.837 849.029 195.991 760.044 213.168 710.088C230.345 660.131 283.437 633.592 330.283 632.031C377.129 630.47 440.807 679.437 433.343 725.699C425.536 774.094 383.375 802.195 347.46 774.094"
          stroke="currentColor"
          strokeWidth={8}
          strokeLinecap="round"
          strokeLinejoin="round"
          style={{ pathLength: path }}
        />
      )}
    </motion.svg>
  );
};

export default Loader;
